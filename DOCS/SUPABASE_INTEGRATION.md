# Supabase Integration Guide - AI Car Assistant

Follow these steps to successfully integrate Supabase with your project.

## Step 1: Configure Environment Variables
You need to create a file named `.env` in the root directory (where `package.json` is). Add your Supabase project credentials:

```bash
VITE_SUPABASE_URL=https://your-project-id.supabase.co
VITE_SUPABASE_ANON_KEY=your-anon-public-key
```

## Step 2: Database Setup (Supabase Dashboard)
Go to your **Supabase Dashboard > SQL Editor** and run this snippet to create the necessary tables for the Car Assistant:

```sql
-- Create a table for system logs (History)
CREATE TABLE system_logs (
  id BIGINT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
  command TEXT NOT NULL,
  status TEXT NOT NULL,
  timestamp TIMESTAMPTZ DEFAULT NOW()
);

-- Enable Row Level Security (optional but recommended)
ALTER TABLE system_logs ENABLE ROW LEVEL SECURITY;
CREATE POLICY "Allow anonymous read/write" ON system_logs FOR ALL USING (true);
```

## Step 3: Verify the Client
I have already created `src/lib/supabase.js` and installed the `@supabase/supabase-js` library. This client will handle all communications with your backend.

## Step 4: Data Persistence
The `CarContext.jsx` has been updated to automatically save every command you execute to the Supabase `system_logs` table.

## Step 5: Test the Connection
1. Start your dev server: `npm run dev`
2. Toggle a feature (like the engine or lights) in the dashboard.
3. Check your **Supabase Table Editor**; you should see the new log entry appearing in real-time.
